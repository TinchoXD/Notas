<div class="container-fluid">
    <div class="row">
        <div class="col-lg-1">
        </div>
        <div class="col-10" style="margin-top: 2.5%;">
            <div class="card">
                <p-toolbar>
                    <div class="p-toolbar-group-start">

                        <span class="p-input-icon-left">
                            <i class="pi pi-search"></i>
                            <input pInputText placeholder="Buscar" matInput (keyup)="applyFilter($event)" />
                        </span>
                        <!--<mat-form-field>
                            <mat-label>Buscar<i class="fa fa-search"></i> </mat-label>
                            <input matInput (keyup)="applyFilter($event)" placeholder="Cédula, Nombre" #input>
                        </mat-form-field> -->
                    </div>

                    <div class="p-toolbar-group-center">
                        <button mat-fab color="primary" aria-label="Añadir Usuario" matTooltip="Añadir nuevo usaurio" (click)="dialogAgregarUsuario()">
                            <mat-icon>person_add</mat-icon>
                        </button>
                    </div>
                </p-toolbar>
            </div>

            <table mat-table [dataSource]="dataSource" matSort (matSortChange)="announceSortChange($event)"
                class="mat-elevation-z3">

                <ng-container matColumnDef="index">
                    <th mat-header-cell *matHeaderCellDef> # </th>
                    <td mat-cell *matCellDef="let element; let i = index"> {{i + 1}}. </td>
                </ng-container>

                <ng-container matColumnDef="Nombres">
                    <th mat-header-cell *matHeaderCellDef> Nombres </th>
                    <td mat-cell *matCellDef="let element"> {{element.firstname}} </td>
                </ng-container>

                <ng-container matColumnDef="Apellidos">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                        Apellidos
                    </th>
                    <td mat-cell *matCellDef="let element"> {{element.lastname}} </td>
                </ng-container>

                <ng-container matColumnDef="Cédula">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                        Cédula
                    </th>
                    <td mat-cell *matCellDef="let element"> {{element.username}} </td>
                </ng-container>

                <ng-container matColumnDef="Rol">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                        Rol
                    </th>
                    <td mat-cell *matCellDef="let element"> {{element.role==1?"Administrador":"Usuario"}} </td>
                </ng-container>

                <ng-container matColumnDef="E-mail institucional">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                        E-mail institucional
                    </th>
                    <td mat-cell *matCellDef="let element"> {{element.user_email_institucional}} </td>
                </ng-container>

                <ng-container matColumnDef="Activo">
                    <th mat-header-cell *matHeaderCellDef>
                        Estado usuario
                    </th>
                    <td mat-cell *matCellDef="let element"> <p-tag *ngIf="element.user_estado_usuario==1" [severity]="'success'" value="Activo" [rounded]="true" /> <p-tag *ngIf="element.user_estado_usuario==0" [severity]="'danger'" value="Inactivo" [rounded]="true" /> </td>
                </ng-container>

                <ng-container matColumnDef="Acciones">
                    <th mat-header-cell *matHeaderCellDef>
                        Acciones
                    </th>
                    <td mat-cell *matCellDef="let element"> <button mat-icon-button matTooltip="Editar Usuario"
                            (click)="editar(element.id)" aria-label="Editar Usuario">
                            <mat-icon>create</mat-icon>
                        </button>
                    </td>
                </ng-container>

                <!-- Define el encabezado y las filas -->
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;" [ngClass]="{'user-disabled': highlightCondition(row)}"></tr>
            </table>

            <mat-paginator class="mat-elevation-z3" [pageSizeOptions]="[10, 15, 20, 50]" showFirstLastButtons
                aria-label="Elementos por página">
            </mat-paginator>
        </div>

        <div class="col-lg-1">

        </div>

    </div>
</div>