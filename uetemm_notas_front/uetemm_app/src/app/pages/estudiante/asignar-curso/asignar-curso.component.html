<h1 mat-dialog-title>Cursos</h1>
<div mat-dialog-content class="mt-3 pt-2" >


    <p-toolbar styleClass="mb-4 gap-2">
        <ng-template pTemplate="left">
            <span class="p-input-icon-left">
                <i class="pi pi-search"></i>
                <input pInputText type="text" placeholder="Buscar curso.."
                    (input)="dt.filterGlobal($any($event.target).value, 'contains')" />
            </span>
        </ng-template>
    </p-toolbar>

    <p-table #dt [value]="cursos" [rows]="10" [paginator]="true" styleClass="p-datatable-sm"
        [globalFilterFields]="['codigo', 'nivel.nombre','subnivel.nombre', 'grado.nombre','paralelo.nombre','user.firstname','user.lastname', 'jornada.nombre', 'descripcion'] "
        [tableStyle]="{ 'min-width': '75rem' }" [rowHover]="true" dataKey="id" [rowsPerPageOptions]="[5, 10, 20]"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [showCurrentPageReport]="true">
        <ng-template pTemplate="header">
            <tr>
                <th pSortableColumn="codigo">
                    CÃ³digo <p-sortIcon field="nivel.nombre" />
                </th>
                <th pSortableColumn="codigo">
                    Nivel <p-sortIcon field="nivel.nombre" />
                </th>
                <th pSortableColumn="subnivel.nombre">
                    SubNivel <p-sortIcon field="subnivel.nombre" />
                </th>
                <th pSortableColumn="grado.nombre">
                    Grado <p-sortIcon field="grado.nombre" />
                </th>
                <th pSortableColumn="paralelo.nombre">
                    Paralelo <p-sortIcon field="paralelo.nombre" />
                </th>
                <th pSortableColumn="jornada.nombre">
                    Jornada <p-sortIcon field="jornada.nombre" />
                </th>
                <th pSortableColumn="user.firstname">
                    Tutor <p-sortIcon field="user.firstname" />
                </th>
                <th pSortableColumn="descripcion">
                    Descripcion <p-sortIcon field="descripcion" />
                </th>
                <th>
                    Acciones
                </th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-cursoRow>
            <tr>
                <td>
                    {{ cursoRow.codigo }}
                </td>
                <td>
                    {{ cursoRow.nivel.nombre }}
                </td>
                <td>
                    {{ cursoRow.subnivel.nombre }}
                </td>
                <td>
                    {{ cursoRow.grado.nombre }}
                </td>
                <td>
                    {{ cursoRow.paralelo.nombre }}
                </td>
                <td>
                    {{ cursoRow.jornada.nombre }}
                </td>
                <td>
                    {{ cursoRow.user ? cursoRow.user.firstname : '' }} {{ cursoRow.user ? cursoRow.user.lastname : '' }}
                </td>
                <td>
                    {{ cursoRow.descripcion }}
                </td>
                <td>
                    <p-button pRipple icon="pi pi-check" severity="success" [rounded]="true" [outlined]="true"
                        pTooltip="Seleccionar Curso" class="mr-2" (click)="seleccionarCurso(cursoRow)" />
                </td>
            </tr>
        </ng-template>
        
    </p-table>
</div>